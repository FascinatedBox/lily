import test

var t = test.t

t.scope(__file__)

import random

t.assert("Random() with no seed.",
         (||
    var r = random.Random()
    var to_check = r.between(0, 10)
    var ok = true
    for i in 0...100: {
        var b = r.between(0, 10)
        if b < 0 || b > 10: {
            ok = false
            break
        }
    }

    ok ))

t.assert("Random() with a seed.",
         (||
    var r = random.Random(1234567890)
    var to_check = r.between(0, 10)
    var ok = true
    for i in 0...100: {
        var b = r.between(0, 10)
        if b < 0 || b > 10: {
            ok = false
            break
        }
    }

    ok ))

t.expect_error("Random.between with zero range.",
               "ValueError: Interval range is empty.",
               (||
    random.Random().between(0, 0)
    false ))

t.expect_error("Random.between with zero range.",
               "ValueError: Interval exceeds 32 bits in size.",
               (||
    random.Random().between(-999999999999999, 0)
    false ))

t.expect_error("Random.between with zero range.",
               "ValueError: Interval exceeds 32 bits in size.",
               (||
    random.Random().between(0, 999999999999999)
    false ))
